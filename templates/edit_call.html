<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Edit Cold Call</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="theme-color" content="#cc0000" />
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
  <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}" />
  <style>
    /* tiny helper just for the button row */
    .btn-row{display:flex; gap:12px; justify-content:space-between; flex-wrap:wrap}
  </style>
</head>
<body>
  <!-- Top bar -->
  <div class="top-header">
    <img src="{{ url_for('static', filename='tynan_logo.png') }}" class="logo-img" alt="Tynan logo" />
    <h1>Edit Cold Call</h1>
    <img src="{{ url_for('static', filename='heli_logo.png') }}" class="logo-img" alt="HELI logo" />
  </div>

  <!-- Main -->
  <main class="main-layout">
    <div class="content">
      <section class="card">
        <h2>Edit Cold Call</h2>

        <form method="POST" class="grid-form" autocomplete="on">
          <div class="form-group">
            <label for="company">Company</label>
            <input id="company" type="text" name="company" value="{{ call['company'] }}" required />
          </div>

          <div class="form-group">
            <label for="contact_name">Contact Name</label>
            <input id="contact_name" type="text" name="contact_name" value="{{ call['contact_name'] or '' }}" />
          </div>

          <div class="form-group">
            <label for="phone">Phone</label>
            <input id="phone" type="text" name="phone" value="{{ call['phone'] or '' }}" />
          </div>

          <div class="form-group">
            <label for="email">Email</label>
            <input id="email" type="email" name="email" value="{{ call['email'] or '' }}" />
          </div>

          <div class="form-group full">
            <label for="address">Address</label>
            <input id="address" type="text" name="address" value="{{ call['address'] or '' }}" />
          </div>

          <div class="form-group full">
            <label for="notes">Notes</label>
            <textarea id="notes" name="notes" rows="4">{{ call['notes'] or '' }}</textarea>
          </div>

          <div class="form-group full">
            <div class="btn-row">
              <button type="submit" class="btn">üíæ Save</button>
              <a class="btn outline" href="/delete_call/{{ call['id'] }}" onclick="return confirm('Delete this call?')">üóë Delete</a>
              <a class="btn-logout" href="{{ url_for('index') }}" style="width:auto">Cancel</a>
            </div>
          </div>
        </form>
      </section>
    </div>
  </main>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/static/sw.js')
        .then(() => console.log('‚úÖ Service Worker Registered'))
        .catch(err => console.error('‚ùå Service Worker Error:', err));
    }
  </script>
</body>
</html>
