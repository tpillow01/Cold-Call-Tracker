/* ==========================================================================
   COLD CALL TRACKER — Clean, mobile-optimized UI
   Brand accent: #cc0000   Base text: #e9eaee   Surfaces: dark panels
   ========================================================================== */

/* ---------- Tokens ---------- */
:root{
  --bg:#0c0f12;
  --panel:#111418;
  --panel-2:#0f1216;
  --panel-3:#0c0f12;
  --border:#1c2128;
  --border-2:#222831;
  --text:#e9eaee;
  --muted:#9aa3ad;
  --accent:#cc0000;
  --accent-2:#a00000;
  --good:#1f8a5b;
  --warn:#c28200;
  --danger:#c94242;
  --shadow:0 10px 24px rgba(0,0,0,.45), 0 2px 6px rgba(0,0,0,.3);
  --radius:14px;
  --radius-lg:18px;
  --tap:44px;
  --container:min(1200px,96vw);
  --font:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  background:radial-gradient(1200px 600px at 40% -200px,#14181e 0%,#0b0e12 55%,#080b0f 100%);
  color:var(--text);
  font:16px/1.45 var(--font);
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}
img{max-width:100%;display:block}
a{color:var(--text);text-decoration:none}
a:hover{color:#fff}
:focus-visible{outline:2px solid var(--accent);outline-offset:2px;border-radius:10px}

/* ---------- Header (brand + menu) ---------- */
.topbar{
  position:sticky; top:0; z-index:50;
  background:linear-gradient(180deg,#171b21,#12161b);
  border-bottom:1px solid var(--border);
  backdrop-filter:saturate(130%) blur(6px);
}
.topbar-inner{
  width:var(--container); margin:0 auto; padding:12px 16px;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
}
.brand-wrap{display:flex; align-items:center; gap:12px}
.logo-img{height:36px; width:auto; object-fit:contain}
.brand-title{
  font-weight:900; letter-spacing:.2px;
  font-size:clamp(18px,2.1vw,22px); color:#f2f4f7;
}
.topnav{display:flex; align-items:center; gap:18px}
.topnav a{color:#d7dbe1; font-weight:800; opacity:.96}
.topnav a:hover{color:#fff}
@media (max-width:720px){
  .logo-img{height:28px}
  .topnav{display:none}
}

/* ---------- Layout ---------- */
.shell{
  width:var(--container); margin:18px auto; padding:0 14px;
  display:grid; grid-template-columns:260px 1fr; gap:18px;
}
@media (max-width:1020px){ .shell{grid-template-columns:1fr} }

/* ---------- Sidebar ---------- */
.sidebar{
  background:linear-gradient(180deg,#111418,#0e1014);
  border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow);
  padding:14px; position:sticky; top:86px; height:fit-content;
}
.sb-title{font-weight:800; font-size:14px; color:#cbd1d8; margin-bottom:8px}
.sb-nav{display:flex; flex-direction:column; gap:8px; margin-bottom:16px}
.sb-btn{
  display:flex; align-items:center; gap:10px; padding:12px; min-height:var(--tap);
  border-radius:12px; background:#151921; border:1px solid var(--border-2);
  color:#d9dee6; font-weight:700; transition:.16s background,.16s transform,.16s border-color;
}
.sb-btn:hover{background:#1a1f27; transform:translateY(-1px)}
.sb-btn.active{background:#1f2430; border-color:#2a3240}
.sb-legend{margin-top:10px; border-top:1px dashed var(--border); padding-top:12px; color:var(--muted); font-size:.92rem}
.legend-item{display:flex; align-items:center; gap:8px; margin:8px 0}
.legend-dot{width:8px; height:8px; border-radius:50%}
.legend-dot.red{background:#ff4d4d}
.legend-dot.gray{background:#7b828c}

/* ---------- Panels / Cards ---------- */
.panel{
  background:linear-gradient(180deg,var(--panel),var(--panel-2));
  border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:16px;
}
.section-title{margin:0 0 10px 0; font-weight:800; font-size:18px}
.subtle{color:var(--muted)}

/* ---------- Reminders ---------- */
.reminders{display:grid; grid-template-columns:repeat(3,1fr); gap:14px; margin-bottom:14px}
@media (max-width:820px){ .reminders{grid-template-columns:1fr} }
.rem-card{
  border:1px solid var(--border); border-radius:14px; padding:16px;
  background:linear-gradient(180deg,#151920,#11161c);
  display:grid; gap:6px;
}
.rem-card h3{margin:0; font-size:16px; font-weight:800; color:#fff}
.rem-card .k{color:#cdd3da; font-weight:700}
.rem-card.red{background:linear-gradient(180deg,#b40e0e,#9a0808); border-color:#851515; color:#fff}
.rem-card.red .cta{
  margin-top:8px; display:inline-flex; align-items:center; justify-content:center;
  background:rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.18);
  color:#fff; padding:10px 14px; border-radius:12px; font-weight:800;
}

/* ---------- Controls / Inputs / Buttons ---------- */
.input,.select{
  background:#141922; color:#e5e9ef; border:1px solid var(--border);
  min-height:var(--tap); padding:10px 12px; border-radius:12px; outline:none; transition:.15s border-color;
}
.input::placeholder{color:#7c8692}
.input:focus,.select:focus{border-color:#2b3644}
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  border:1px solid var(--border); border-radius:12px; padding:10px 14px; min-height:var(--tap);
  background:#1a1f27; color:#e9edf3; font-weight:800; cursor:pointer; transition:.16s background,.16s transform,.16s border-color;
}
.btn:hover{background:#202635; transform:translateY(-1px)}
.btn.primary{background:var(--accent); border-color:var(--accent); color:#fff}
.btn.primary:hover{background:var(--accent-2); border-color:var(--accent-2)}
.btn.icon{aspect-ratio:1/1; padding:10px}
.btn.sm{padding:8px 10px; border-radius:10px; min-height:38px; font-size:.92rem}
.btn-row{display:flex; gap:10px; flex-wrap:wrap}

/* ---------- Table (Past Cold Calls) ---------- */
.table-wrap{
  background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
  box-shadow:var(--shadow); overflow:auto;
}
table{width:100%; border-collapse:separate; border-spacing:0; min-width:780px}
thead th{
  position:sticky; top:0; z-index:1;
  background:linear-gradient(180deg,#171b22,#13171d);
  color:#e6e8ed; font-weight:800; text-align:left; padding:12px; font-size:14px; border-bottom:1px solid var(--border);
}
tbody td{padding:12px; color:#d3d8df; border-bottom:1px solid var(--border)}
tbody tr:nth-child(even) td{background:#0f1319}
tbody tr:hover td{background:#121821}
.row-actions{display:flex; gap:8px}
.ghost{background:transparent; border-color:#27303b}

/* Phone: table → cards */
@media (max-width:820px){
  .table-wrap table{min-width:0}
  .table-wrap thead{display:none}
  .table-wrap tbody tr{
    display:grid; grid-template-columns:1fr; gap:10px;
    background:#11161c; border:1px solid var(--border); border-radius:14px;
    padding:12px; margin-bottom:12px;
  }
  .table-wrap tbody td{
    display:grid; grid-template-columns:120px 1fr; gap:10px;
    border:0; padding:0; color:#e1e6ee;
  }
  .table-wrap tbody td::before{
    content:attr(data-label);
    color:var(--muted); font-weight:800;
  }
}

/* ---------- Modals ---------- */
.modal{
  position:fixed; inset:0; display:none; place-items:center; z-index:200;
  background:rgba(0,0,0,.55); backdrop-filter:blur(4px);
}
.modal.open{display:grid}
.dialog{
  width:min(720px,92vw);
  background:linear-gradient(180deg,#12161c,#0f1419);
  border:1px solid var(--border); border-radius:var(--radius-lg);
  box-shadow:var(--shadow); padding:16px;
}
.dialog .head{display:flex; align-items:center; justify-content:space-between; margin-bottom:10px}
.dialog .body{display:grid; gap:12px}
.dialog .foot{display:flex; gap:10px; justify-content:flex-end; margin-top:12px}
@media (max-width:560px){
  .dialog{width:100vw; height:100vh; border-radius:0; padding:14px}
  .dialog .foot{position:sticky; bottom:0; background:linear-gradient(180deg,transparent,rgba(16,20,26,.94)); padding-top:8px}
}

/* Modal form tidy layout overrides */
.form-vertical .form-grid{display:grid; grid-template-columns:repeat(12,1fr); gap:12px}
.form-vertical .field{display:flex; flex-direction:column; gap:6px}
.form-vertical .col-12{grid-column:1 / -1}
.form-vertical .col-6{grid-column:span 6}
@media (max-width:980px){ .form-vertical .col-6{grid-column:1 / -1} }
.dialog .label{color:var(--muted); font-size:.92rem; margin-bottom:4px}
.dialog .input,.dialog .textarea{
  width:100%; background:#14161b; border:1px solid var(--border); color:var(--text);
  border-radius:12px; padding:12px 14px; min-height:44px;
}
.dialog .textarea{min-height:120px}
.dialog .input::placeholder,.dialog .textarea::placeholder{color:#7a828d}

/* ---------- Calendar (stable & professional) ---------- */
.weekday-bar{
  display:grid; grid-template-columns:repeat(7,minmax(0,1fr)); gap:1px; background:var(--border);
  border-bottom:1px solid var(--border);
}
.weekday{
  background:linear-gradient(180deg,#171b22,#13171d);
  padding:10px 8px; text-align:center; color:#e6e8ed; font-weight:800; font-size:.92rem;
}

.calendar.panel{padding:0}
.calendar .cal-head{
  display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:10px;
  padding:12px 14px; border-bottom:1px solid var(--border);
  background:linear-gradient(180deg,#14181f,#11151b);
}
.calendar .cal-head h3{margin:0; text-align:center}

.calendar-grid{
  display:grid; gap:1px; background:var(--border);
  grid-template-columns:repeat(7,minmax(0,1fr)); /* fixed fractions; no growth */
}

.day{
  height:160px; /* full-size desktop; stable */
  background:linear-gradient(180deg,#11161c,#0f1419);
  border:1px solid rgba(255,255,255,.03); border-radius:6px;
  padding:12px 10px 10px; position:relative;
  display:flex; flex-direction:column; gap:8px;
  transition:background .15s ease;
}
.day:hover{background:#141a22}
@media (max-width:900px){ .day{height:140px} }

.day .dnum{
  position:absolute; top:8px; right:8px;
  font-weight:900; font-size:.85rem; color:#cfd5dd;
  background:#0e1319; border:1px solid #1f2631;
  padding:2px 8px; border-radius:999px;
}
.day.today{outline:2px solid var(--accent); outline-offset:-2px}
.day.today .dnum{color:#fff; background:var(--accent); border-color:var(--accent)}

.day .events{
  margin-top:6px; display:flex; flex-direction:column; gap:6px; overflow:hidden; /* chips never push height */
}
.event{
  position:relative; display:block; width:100%;
  padding:6px 10px 6px 22px; border-radius:10px;
  background:#121922; border:1px solid #232b36; color:#e1e6ee;
  font-weight:800; font-size:.86rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.event::before{
  content:""; position:absolute; left:8px; top:50%; transform:translateY(-50%);
  width:6px; height:6px; border-radius:50%; background:#7b8aa0;
}
.event.call::before{background:#cc0000}
.event.visit::before{background:#1f9d55}
.event.demo::before{background:#c08e00}

.more-link{
  align-self:flex-start; padding:4px 6px;
  border-radius:8px; border:1px dashed var(--border);
  background:transparent; color:#cdd3da; font-size:.82rem; font-weight:800; cursor:pointer;
}
.more-link:hover{background:#161b22}

/* ---------- Mobile bottom dock ---------- */
.mobile-dock{
  position:fixed; left:50%; bottom:12px; transform:translateX(-50%);
  width:min(560px,94vw);
  display:grid; grid-template-columns:repeat(3,1fr); gap:10px;
  padding:10px; z-index:300;
  background:rgba(17,21,27,.88);
  backdrop-filter:blur(10px) saturate(140%);
  border:1px solid var(--border);
  border-radius:18px; box-shadow:var(--shadow);
}
.dock-btn{
  display:flex; align-items:center; justify-content:center;
  min-height:48px; border-radius:12px; font-weight:900;
  background:#1a1f27; border:1px solid var(--border); color:#e9edf3;
}
.dock-btn.primary{background:var(--accent); border-color:var(--accent); color:#fff}
@media (min-width:821px){ .mobile-dock{display:none} }

/* ---------- Utilities ---------- */
.mt-0{margin-top:0}.mt-8{margin-top:8px}.mt-12{margin-top:12px}.mt-16{margin-top:16px}
.mb-0{margin-bottom:0}.mb-8{margin-bottom:8px}.mb-12{margin-bottom:12px}.mb-16{margin-bottom:16px}
.grid{display:grid; gap:12px}
.flex{display:flex; gap:10px}
.right{margin-left:auto}
.center{text-align:center}

/* ---------- Mobile tweaks ---------- */
@media (max-width:1020px){ .sidebar{position:static} }
@media (max-width:700px){
  body{font-size:15px}
  .brand-title{font-size:18px}
  .reminders{grid-template-columns:1fr}
  thead th{font-size:13.5px; padding:10px}
  tbody td{padding:10px}
  .btn,.input,.select{border-radius:12px}
}

/* ---------- Print ---------- */
@media print{
  .topbar,.sidebar,.mobile-dock,.btn,.modal{display:none !important}
  body{background:#fff; color:#111}
  .panel,.table-wrap{box-shadow:none; border-color:#ddd}
}

/* ===== Segmented Month/Agenda toggle ===== */
.view-toggle{
  display:flex; gap:8px; align-items:center; justify-content:center;
  padding:10px 12px; border-bottom:1px solid var(--border); background:linear-gradient(180deg,#131820,#10151b);
}
.seg{
  appearance:none; border:none; cursor:pointer;
  padding:10px 14px; min-height:38px;
  border-radius:12px; font-weight:900; color:#cfd6de;
  background:#141a22; border:1px solid #232b36;
}
.seg.active{ background:var(--accent); border-color:var(--accent); color:#fff }

/* ===== Agenda View (mobile-friendly list) ===== */
.agenda{padding:12px}
.agenda.hidden{display:none}
.agenda-empty{
  margin:16px auto; padding:16px; max-width:560px;
  border:1px dashed var(--border); border-radius:12px; color:#cbd2da; text-align:center;
  background:linear-gradient(180deg,#12161c,#0f1419);
}
.agenda-day{margin:12px auto; max-width:820px}
.agenda-date{
  font-weight:900; color:#e9edf3; padding:8px 10px; border-radius:10px;
  background:linear-gradient(180deg,#161b22,#12171e); border:1px solid var(--border);
}
.agenda-list{display:flex; flex-direction:column; gap:8px; margin-top:8px}
.agenda-item{
  display:grid; grid-template-columns:84px 1fr; gap:8px; align-items:flex-start;
  padding:10px 12px; border-radius:12px; background:#121922; border:1px solid #232b36;
}
.agenda-time{font-weight:900; color:#cfd6de}
.agenda-title{font-weight:900; color:#e9edf3; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.agenda-notes{color:#aeb6c1; font-size:.95rem; margin-top:2px}
.agenda-item.call{box-shadow:inset 0 0 0 2px rgba(204,0,0,.15)}
.agenda-item.visit{box-shadow:inset 0 0 0 2px rgba(31,157,85,.18)}
.agenda-item.demo{box-shadow:inset 0 0 0 2px rgba(192,142,0,.18)}

/* ===== Floating Action Button ===== */
.fab{
  position:fixed; right:16px; bottom:76px; z-index:320;
  width:56px; height:56px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  font-size:28px; font-weight:900; line-height:1;
  color:#fff; background:var(--accent); border:1px solid var(--accent);
  box-shadow:var(--shadow); cursor:pointer;
}
.fab:hover{background:var(--accent-2); border-color:var(--accent-2)}
@media (min-width:821px){ .fab{display:none} }

/* ===== Sticky search bar (mobile) ===== */
.toolbar.sticky-mobile{
  position:sticky; top:60px; z-index:40;
  display:flex; gap:10px; align-items:center;
  padding:10px 12px;
  background:linear-gradient(180deg,#131820,#10151b);
  border:1px solid var(--border);
  border-radius:12px;
  margin-bottom:12px;
}
.searchbar{ flex:1 }

/* Section head row */
.section-head{ display:flex; align-items:center; gap:10px; justify-content:space-between }

/* Month header chevron and bigger tap target on mobile cards */
.month-header .chev{ display:inline-block; width:18px; margin-right:6px; opacity:.9 }
.month-header td{ padding:14px 12px !important; }

/* Mobile quick chips inside card view */
.mobile-quickchips{
  display:none; gap:8px; margin-top:8px; flex-wrap:wrap;
}
.chip{
  display:inline-flex; align-items:center; justify-content:center;
  padding:8px 10px; border-radius:999px;
  background:#151a22; border:1px solid #27303b; color:#e4e9f0; font-weight:800; font-size:.9rem;
  min-height:36px;
}
@media (max-width:820px){
  .mobile-quickchips{ display:flex }
}

/* Touch target vibes for month header row on phones */
@media (max-width:820px){
  .month-header td{ font-size:1rem }
}

/* Keep FAB above dock on phones */
.fab{ bottom:80px }
/* ==== Mobile UX simplifications ==== */

/* Ensure the main document scrolls naturally */
html, body { overflow-y:auto }

/* Calendar: no forced min-width wrappers; grid fills the screen */
.calendar .cal-head { position:sticky; top:60px; z-index:5 } /* keep header controls handy on phones */
@media (max-width: 820px){
  .weekday { font-size:.85rem; padding:8px 4px }
  .day { height:128px; padding:10px 8px }
}
@media (max-width: 480px){
  .day { height:110px; padding:8px 6px }
}

/* Remove space for previously-used bottom dock/FAB if any were present */
.fab, .mobile-dock { display:none !important }

/* ==== Business card scan UI ==== */
.scan-row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:6px}
.scan-btn{background:#1a1f27;border:1px solid var(--border);color:#e9edf3;font-weight:800;border-radius:12px;padding:10px 14px;cursor:pointer}
.scan-btn:hover{background:#202635}
.scan-note{color:var(--muted);font-size:.92rem}
.scan-preview{
  display:flex;align-items:center;gap:10px;margin-top:10px;
  background:#11161c;border:1px dashed var(--border);border-radius:12px;padding:10px
}
.scan-preview img{max-height:120px;border-radius:10px}
.scan-progress{font-weight:800;color:#cbd2da}
.badge-auto{display:inline-block;background:#121922;border:1px solid #232b36;color:#9db0c7;border-radius:999px;padding:4px 8px;font-size:.8rem;margin-left:6px}

/* ==== Modal: always scroll body, sticky head/foot ==== */
.modal .dialog{
  max-height: 92dvh;            /* keeps dialog on screen */
  display:flex;
  flex-direction:column;
}
.dialog .head{
  position:sticky; top:0; z-index:2;
  background:linear-gradient(180deg,#14181f,#11151b);
  border-bottom:1px solid var(--border);
}
.dialog .body{
  flex:1; min-height:0;         /* enable child overflow */
  overflow:auto;                 /* << makes form scroll */
  -webkit-overflow-scrolling:touch;
}
.dialog .foot{
  position:sticky; bottom:0; z-index:2;
  background:linear-gradient(180deg,transparent,#10151b);
  border-top:1px solid var(--border);
  padding-top:8px;
}
